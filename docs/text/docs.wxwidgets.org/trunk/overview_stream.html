<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: wxStreams Overview</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Sat Sep 6 10:17:57 2008"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">wxWidgets 2.9.0: A portable C++ GUI toolkit</a>&nbsp;&raquo&nbsp;<a class="el" href="page_topics.html">Topic Overviews</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="overview_stream">wxStreams Overview </a></h1>Classes: <ul>
<li><a class="el" href="classwx_stream_base.html">wxStreamBase</a> </li>
<li><a class="el" href="classwx_stream_buffer.html">wxStreamBuffer</a> </li>
<li><a class="el" href="classwx_input_stream.html">wxInputStream</a> </li>
<li><a class="el" href="classwx_output_stream.html">wxOutputStream</a> </li>
<li><a class="el" href="classwx_filter_input_stream.html">wxFilterInputStream</a> </li>
<li><a class="el" href="classwx_filter_output_stream.html">wxFilterOutputStream</a></li>
</ul>
<ul>
<li><a class="el" href="overview_stream.html#overview_stream_intro">Introduction</a> </li>
<li><a class="el" href="overview_stream.html#overview_stream_example">Example</a></li>
</ul>
<hr>
<h2><a class="anchor" name="overview_stream_intro">
Introduction</a></h2>
Standard C++ streams can cause problems on several platforms: they work quite well in most cases, but in the multi-threaded case, for example, they have many problems. Some Borland compilers refuse to work at all with them and using iostreams on Linux makes writing programs that are binary compatible across different Linux distributions, impossible.<p>
Therefore, wxStreams have been added to wxWidgets so that applications can reliably compile and run on all supported platforms without dependence on a particular release of libg++.<p>
wxStreams is divided in two main parts:<p>
<ul>
<li>The core: <a class="el" href="classwx_stream_base.html">wxStreamBase</a>, <a class="el" href="classwx_stream_buffer.html">wxStreamBuffer</a>, <a class="el" href="classwx_input_stream.html">wxInputStream</a>, <a class="el" href="classwx_output_stream.html">wxOutputStream</a>, wxFilterIn/OutputStream </li>
<li>The "IO" classes: wxSocketIn/OutputStream, wxDataIn/OutputStream, wxFileIn/OutputStream, ...</li>
</ul>
<a class="el" href="classwx_stream_base.html">wxStreamBase</a> is the base definition of a stream. It defines, for example, the API of OnSysRead, OnSysWrite, OnSysSeek and OnSysTell. These functions are really implemented by the "IO" classes. <a class="el" href="classwx_input_stream.html">wxInputStream</a> and <a class="el" href="classwx_output_stream.html">wxOutputStream</a> inherit from it.<p>
<a class="el" href="classwx_stream_buffer.html">wxStreamBuffer</a> is a cache manager for <a class="el" href="classwx_stream_base.html">wxStreamBase</a>: it manages a stream buffer linked to a stream. One stream can have multiple stream buffers but one stream have always one autoinitialized stream buffer.<p>
<a class="el" href="classwx_input_stream.html">wxInputStream</a> is the base class for read-only streams. It implements Read, SeekI (I for Input), and all read or IO generic related functions. <a class="el" href="classwx_output_stream.html">wxOutputStream</a> does the same thing but it is for write-only streams.<p>
wxFilterIn/OutputStream is the base class definition for stream filtering. Stream filtering means a stream which does no syscall but filters data which are passed to it and then pass them to another stream. For example, wxZLibInputStream is an inline stream decompressor.<p>
The "IO" classes implements the specific parts of the stream. This could be nothing in the case of wxMemoryIn/OutputStream which bases itself on <a class="el" href="classwx_stream_buffer.html">wxStreamBuffer</a>. This could also be a simple link to the a true syscall (for example read(...), write(...)).<h2><a class="anchor" name="overview_stream_example">
Example</a></h2>
Usage is simple. We can take the example of <a class="el" href="classwx_file_input_stream.html">wxFileInputStream</a> and here is some sample code:<p>
<div class="fragment"><pre class="fragment">...
<span class="comment">// The constructor initializes the stream buffer and open the file descriptor</span>
<span class="comment">// associated to the name of the file.</span>
wxFileInputStream in_stream(<span class="stringliteral">"the_file_to_be_read"</span>);

<span class="comment">// Ok, read some bytes ... nb_datas is expressed in bytes.</span>
in_stream.Read(data, nb_datas);
<span class="keywordflow">if</span> (in_stream.LastError() != wxSTREAM_NOERROR) {
    <span class="comment">// Oh oh, something bad happens.</span>
    <span class="comment">// For a complete list, look into the documentation at wxStreamBase.</span>
}

<span class="comment">// You can also inline all like this.</span>
<span class="keywordflow">if</span> (in_stream.Read(data, nb_datas).LastError() != wxSTREAM_NOERROR) {
    <span class="comment">// Do something.</span>
}

<span class="comment">// You can also get the last number of bytes REALLY put into the buffer.</span>
<span class="keywordtype">size_t</span> really_read = in_stream.LastRead();

<span class="comment">// Ok, moves to the beginning of the stream. SeekI returns the last position</span>
<span class="comment">// in the stream counted from the beginning.</span>
off_t old_position = in_stream.SeekI(0, wxFromBeginning);

<span class="comment">// What is my current position ?</span>
off_t position = in_stream.TellI();

<span class="comment">// wxFileInputStream will close the file descriptor on destruction.</span>
</pre></div> </div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org/" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Sat Sep 6 10:17:57 2008</tt> by <a href="http://www.doxygen.org/">Doxygen</a> 1.5.6</p></td>
    <td valign="middle" align="right"><p>[ <a href="wsdindex.html#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-794025-2");
    pageTracker._initData();
    pageTracker._trackPageview();
</script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
