<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: Window IDs</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Sat Sep 6 10:17:58 2008"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">wxWidgets 2.9.0: A portable C++ GUI toolkit</a>&nbsp;&raquo&nbsp;<a class="el" href="page_topics.html">Topic Overviews</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="overview_windowids">Window IDs </a></h1><ul>
<li><a class="el" href="overview_windowids.html#overview_windowids_intro">Introduction</a> </li>
<li><a class="el" href="overview_windowids.html#overview_windowids_type">Data Types</a> </li>
<li><a class="el" href="overview_windowids.html#overview_windowids_using">Using wxWindowIDRef</a></li>
</ul>
<dl class="see" compact><dt><b>See also:</b></dt><dd></dd></dl>
<ul>
<li><a class="el" href="classwx_id_manager.html">wxIdManager</a> </li>
<li><a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a> </li>
<li><a class="el" href="classwx_window.html#d9bc342d1e38d221e37f0f6396950c8c">wxWindow::UnreserveControlId</a></li>
</ul>
<hr>
<h2><a class="anchor" name="overview_windowids_intro">
Introduction</a></h2>
Various contols and other parts of wxWidgets need an ID. Sometimes the ID may be directly provided by the use or have a predefined value, such as <code>wxID_OPEN</code>. Often, however, the value of the ID is unimportant and is created automatically by calling <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a> or by passing <code>wxID_ANY</code> as the ID of an object.<p>
There are two ways to generate an ID. One way, is to start at a negative number, and for each new ID, return the next smallest number. This is fine for systems that can used the full range of negative numbers for an ID, as this provides more than enough IDs and it would take a very very long time to run out and wrap around. However, some systems can not use the full range of the ID value. Windows, for example, can only use 16 bit IDs, and only has about 32000 possible automatic IDs that can be generated by <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a>. If the program runs long enough, depending on the program itself, using this first method would cause the IDs to wrap around into the positive ID range and cause possible clashes with any directly specified ID values.<p>
The other way is to keep track of the IDs returned by <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a> and don't return them again until the ID is completely free and not being used by any other objects. This will make sure that the ID values do not clash with one another. This is accomplished by keeping a reference count for each of the IDs that can possibly be returned by <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a>. Other IDs are not reference counted.<h2><a class="anchor" name="overview_windowids_type">
Data Types</a></h2>
A wxWindowID is just the integer type for a window ID. It should be used almost everywhere. To help keep track of the count for the automatically generated IDs, a new type, wxWindowIDRef exists, that can take the place of wxWindowID where needed. When an ID is first created, it is marked as reserved. When assigning it to a wxWindowIDRef, the usage count of the ID is increased, or set to 1 if it is currently reserved. Assigning the same ID to several wxWindowIDRefs will keep track of the count. As the wxWindowIDRef gets destroyed or its value changes, it will decrease the count of the used ID. When there are no more wxWindowIDRef types with the created ID, the ID is considered free and can then be used again by <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a>.<p>
If a created ID is not assigned to a wxWindowIDRef, then it remains reserved until it is unreserved manually with <a class="el" href="classwx_window.html#d9bc342d1e38d221e37f0f6396950c8c">wxWindow::UnreserveControlId</a>. However, if it is assigned to a wxWindowIDRef, then it will be unreserved automatically and will be considered free when the count is 0, and should NOT be manually unreserved.<p>
wxWindowIDRef can store both automatic IDs from <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a> as well as normal IDs. Reference counting is only done for the automatic IDs. Also, wxWindowIDRef has conversion operators that allow it to be treated just like a wxWindowID.<h2><a class="anchor" name="overview_windowids_using">
Using wxWindowIDRef</a></h2>
A wxWindowIDRef should be used in place of a wxWindowID where you want to make sure the ID is not created again by <a class="el" href="classwx_window.html#8175da594e6045635a1d1cfe775cdddb">wxWindow::NewControlId</a> at least until the wxWindowIDRef is destroyed, usually when the associated object is destroyed. This is done already for windows, menu items, and tool bar items. It should only be used in the main thread, as it is not thread safe. </div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org/" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Sat Sep 6 10:17:58 2008</tt> by <a href="http://www.doxygen.org/">Doxygen</a> 1.5.6</p></td>
    <td valign="middle" align="right"><p>[ <a href="wsdindex.html#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-794025-2");
    pageTracker._initData();
    pageTracker._trackPageview();
</script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
