<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: wxDataObject Class Reference</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Sat Sep 6 08:15:41 2008"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>wxDataObject Class Reference<br>
<small>
[<a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a>]</small>
</h1><!-- doxytag: class="wxDataObject" --><code>#include &lt;wx/dataobj.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for wxDataObject:</div>
<div class="dynsection">

<p><center><img src="classwx_data_object.png" usemap="#wxDataObject_map" border="0" alt=""></center>
<map name="wxDataObject_map">
<area href="classwx_data_object_composite.html" alt="wxDataObjectComposite" shape="rect" coords="0,56,148,80">
<area href="classwx_data_object_simple.html" alt="wxDataObjectSimple" shape="rect" coords="237,56,385,80">
<area href="classwx_bitmap_data_object.html" alt="wxBitmapDataObject" shape="rect" coords="0,112,148,136">
<area href="classwx_custom_data_object.html" alt="wxCustomDataObject" shape="rect" coords="158,112,306,136">
<area href="classwx_file_data_object.html" alt="wxFileDataObject" shape="rect" coords="316,112,464,136">
<area href="classwx_text_data_object.html" alt="wxTextDataObject" shape="rect" coords="474,112,622,136">
<area href="classwx_u_r_l_data_object.html" alt="wxURLDataObject" shape="rect" coords="474,168,622,192">
</map>
</div>

<p>
<a href="classwx_data_object-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A <a class="el" href="classwx_data_object.html">wxDataObject</a> represents data that can be copied to or from the clipboard, or dragged and dropped. The important thing about <a class="el" href="classwx_data_object.html">wxDataObject</a> is that this is a 'smart' piece of data unlike 'dumb' data containers such as memory buffers or files. Being 'smart' here means that the data object itself should know what data formats it supports and how to render itself in each of its supported formats.<p>
A supported format, incidentally, is exactly the format in which the data can be requested from a data object or from which the data object may be set. In the general case, an object may support different formats on 'input' and 'output', i.e. it may be able to render itself in a given format but not be created from data on this format or vice versa. <a class="el" href="classwx_data_object.html">wxDataObject</a> defines an enumeration type which distinguishes between them:<p>
<div class="fragment"><pre class="fragment">    <span class="keyword">enum</span> Direction
    {
        Get  = 0x01,    <span class="comment">// format is supported by GetDataHere()</span>
        Set  = 0x02     <span class="comment">// format is supported by SetData()</span>
    };
</pre></div><p>
See <a class="el" href="classwx_data_format.html">wxDataFormat</a> documentation for more about formats.<p>
Not surprisingly, being 'smart' comes at a price of added complexity. This is reasonable for the situations when you really need to support multiple formats, but may be annoying if you only want to do something simple like cut and paste text.<p>
To provide a solution for both cases, wxWidgets has two predefined classes which derive from <a class="el" href="classwx_data_object.html">wxDataObject</a>: <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> and <a class="el" href="classwx_data_object_composite.html">wxDataObjectComposite</a>. <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> is the simplest <a class="el" href="classwx_data_object.html">wxDataObject</a> possible and only holds data in a single format (such as HTML or text) and <a class="el" href="classwx_data_object_composite.html">wxDataObjectComposite</a> is the simplest way to implement a <a class="el" href="classwx_data_object.html">wxDataObject</a> that does support multiple formats because it achieves this by simply holding several <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> objects.<p>
So, you have several solutions when you need a <a class="el" href="classwx_data_object.html">wxDataObject</a> class (and you need one as soon as you want to transfer data via the clipboard or drag and drop):<p>
<ol type=1>
<li>Use one of the built-in classes.<ul>
<li>You may use <a class="el" href="classwx_text_data_object.html">wxTextDataObject</a>, <a class="el" href="classwx_bitmap_data_object.html">wxBitmapDataObject</a> or <a class="el" href="classwx_file_data_object.html">wxFileDataObject</a> in the simplest cases when you only need to support one format and your data is either text, bitmap or list of files.</li></ul>
</li><li>Use <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a><ul>
<li>Deriving from <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> is the simplest solution for custom data - you will only support one format and so probably won't be able to communicate with other programs, but data transfer will work in your program (or between different copies of it).</li></ul>
</li><li>Use <a class="el" href="classwx_data_object_composite.html">wxDataObjectComposite</a><ul>
<li>This is a simple but powerful solution which allows you to support any number of formats (either standard or custom if you combine it with the previous solution).</li></ul>
</li><li>Use <a class="el" href="classwx_data_object.html">wxDataObject</a> Directly<ul>
<li>This is the solution for maximal flexibility and efficiency, but it is also the most difficult to implement.</li></ul>
</li></ol>
<p>
Please note that the easiest way to use drag and drop and the clipboard with multiple formats is by using <a class="el" href="classwx_data_object_composite.html">wxDataObjectComposite</a>, but it is not the most efficient one as each <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> would contain the whole data in its respective formats. Now imagine that you want to paste 200 pages of text in your proprietary format, as well as Word, RTF, HTML, Unicode and plain text to the clipboard and even today's computers are in trouble. For this case, you will have to derive from <a class="el" href="classwx_data_object.html">wxDataObject</a> directly and make it enumerate its formats and provide the data in the requested format on demand.<p>
Note that neither the GTK+ data transfer mechanisms for clipboard and drag and drop, nor OLE data transfer, copy any data until another application actually requests the data. This is in contrast to the 'feel' offered to the user of a program who would normally think that the data resides in the clipboard after having pressed 'Copy' - in reality it is only declared to be available.<p>
There are several predefined data object classes derived from <a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a>: <a class="el" href="classwx_file_data_object.html">wxFileDataObject</a>, <a class="el" href="classwx_text_data_object.html">wxTextDataObject</a>, <a class="el" href="classwx_bitmap_data_object.html">wxBitmapDataObject</a> and <a class="el" href="classwx_u_r_l_data_object.html">wxURLDataObject</a> which can be used without change.<p>
You may also derive your own data object classes from <a class="el" href="classwx_custom_data_object.html">wxCustomDataObject</a> for user-defined types. The format of user-defined data is given as a mime-type string literal, such as "application/word" or "image/png". These strings are used as they are under Unix (so far only GTK+) to identify a format and are translated into their Windows equivalent under Win32 (using the OLE IDataObject for data exchange to and from the clipboard and for drag and drop). Note that the format string translation under Windows is not yet finished.<p>
Each class derived directly from <a class="el" href="classwx_data_object.html">wxDataObject</a> must override and implement all of its functions which are pure virtual in the base class. The data objects which only render their data or only set it (i.e. work in only one direction), should return 0 from <a class="el" href="classwx_data_object.html#c1adc031804557849ab05329656fbbe3">GetFormatCount()</a>.<p>
<b>wxPython Note:</b> At this time this class is not directly usable from wxPython. Derive a class from wxPyDataObjectSimple() instead.<p>
<b>wxPerl Note:</b> This class is not currently usable from wxPerl; you may use Wx::PlDataObjectSimple instead.<p>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxcore">wxCore</a></span></div><p>
<div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a></span></div><p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="overview_dnd.html">Drag and Drop Overview</a>, <a class="el" href="page_samples.html#page_samples_dnd">Drag &amp; Drop Sample</a>, <a class="el" href="classwx_file_data_object.html">wxFileDataObject</a>, <a class="el" href="classwx_text_data_object.html">wxTextDataObject</a>, <a class="el" href="classwx_bitmap_data_object.html">wxBitmapDataObject</a>, <a class="el" href="classwx_custom_data_object.html">wxCustomDataObject</a>, <a class="el" href="classwx_drop_target.html">wxDropTarget</a>, <a class="el" href="classwx_drop_source.html">wxDropSource</a>, <a class="el" href="classwx_text_drop_target.html">wxTextDropTarget</a>, <a class="el" href="classwx_file_drop_target.html">wxFileDropTarget</a> </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#a910d21b55e45638567f770aa71a44da">wxDataObject</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#d2b77ccfd1adc3bd26833bf0c5398f9c">~wxDataObject</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#da91effc6cd9f2b900105c5a158cf24d">GetAllFormats</a> (<a class="el" href="classwx_data_format.html">wxDataFormat</a> *formats, Direction dir=Get) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#58250144a0691dbed651592acefbf629">GetDataHere</a> (const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;format, void buf) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#acb30d5321c384b3b8fe8dd66c9a0bc9">GetDataSize</a> (const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;format) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#c1adc031804557849ab05329656fbbe3">GetFormatCount</a> (Direction dir=Get) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classwx_data_format.html">wxDataFormat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#ddca8019cf63573786c8fd9264621f87">GetPreferredFormat</a> (Direction dir=Get) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object.html#6e21d465acc2d3bea229b2caa24eb339">SetData</a> (const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;format, size_t len, const void buf)</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a910d21b55e45638567f770aa71a44da"></a><!-- doxytag: member="wxDataObject::wxDataObject" ref="a910d21b55e45638567f770aa71a44da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxDataObject::wxDataObject           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
</div>
</div><p>
<a class="anchor" name="d2b77ccfd1adc3bd26833bf0c5398f9c"></a><!-- doxytag: member="wxDataObject::~wxDataObject" ref="d2b77ccfd1adc3bd26833bf0c5398f9c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxDataObject::~wxDataObject           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="da91effc6cd9f2b900105c5a158cf24d"></a><!-- doxytag: member="wxDataObject::GetAllFormats" ref="da91effc6cd9f2b900105c5a158cf24d" args="(wxDataFormat *formats, Direction dir=Get) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxDataObject::GetAllFormats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_data_format.html">wxDataFormat</a> *&nbsp;</td>
          <td class="paramname"> <em>formats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Direction&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy all supported formats in the given direction to the array pointed to by <em>formats</em>. There is enough space for GetFormatCount(dir) formats in it. 
</div>
</div><p>
<a class="anchor" name="58250144a0691dbed651592acefbf629"></a><!-- doxytag: member="wxDataObject::GetDataHere" ref="58250144a0691dbed651592acefbf629" args="(const wxDataFormat &amp;format, void buf) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool wxDataObject::GetDataHere           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method will write the data of the format <em>format</em> in the buffer <em>buf</em> and return <span class="literal">true</span> on success, <span class="literal">false</span> on failure. 
</div>
</div><p>
<a class="anchor" name="acb30d5321c384b3b8fe8dd66c9a0bc9"></a><!-- doxytag: member="wxDataObject::GetDataSize" ref="acb30d5321c384b3b8fe8dd66c9a0bc9" args="(const wxDataFormat &amp;format) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t wxDataObject::GetDataSize           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>format</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the data size of the given format <em>format</em>. 
</div>
</div><p>
<a class="anchor" name="c1adc031804557849ab05329656fbbe3"></a><!-- doxytag: member="wxDataObject::GetFormatCount" ref="c1adc031804557849ab05329656fbbe3" args="(Direction dir=Get) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t wxDataObject::GetFormatCount           </td>
          <td>(</td>
          <td class="paramtype">Direction&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of available formats for rendering or setting the data. 
</div>
</div><p>
<a class="anchor" name="ddca8019cf63573786c8fd9264621f87"></a><!-- doxytag: member="wxDataObject::GetPreferredFormat" ref="ddca8019cf63573786c8fd9264621f87" args="(Direction dir=Get) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classwx_data_format.html">wxDataFormat</a> wxDataObject::GetPreferredFormat           </td>
          <td>(</td>
          <td class="paramtype">Direction&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the preferred format for either rendering the data (if <em>dir</em> is <code>Get</code>, its default value) or for setting it. Usually this will be the native format of the <a class="el" href="classwx_data_object.html">wxDataObject</a>. 
</div>
</div><p>
<a class="anchor" name="6e21d465acc2d3bea229b2caa24eb339"></a><!-- doxytag: member="wxDataObject::SetData" ref="6e21d465acc2d3bea229b2caa24eb339" args="(const wxDataFormat &amp;format, size_t len, const void buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool wxDataObject::SetData           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the data in the format <em>format</em> of the length <em>len</em> provided in the buffer <em>buf</em>.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><span class="literal">true</span> on success, <span class="literal">false</span> on failure. </dd></dl>

</div>
</div><p>
</div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org/" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Sat Sep 6 08:15:42 2008</tt> by <a href="http://www.doxygen.org/">Doxygen</a> 1.5.6</p></td>
    <td valign="middle" align="right"><p>[ <a href="wsdindex.html#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-794025-2");
    pageTracker._initData();
    pageTracker._trackPageview();
</script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
